#include<iostream>
#include<ctime>
#include<string>
#include<cstdlib>
#include<limits>
using namespace std;
int dice(){
    int num = 1+ rand()% 6;
    return num;
}
int dice2(){
    int num = rand()% 6 + 1;
    return num;
}
int dices(string Player){
    int num1 = dice();
    int num2 = dice2();
    int num = num1 + num2;
    cout << "Both dices rolled " << Player << " got "<<num1<<" and "<< num2<<endl;
    return num;
}
void playerNames(string* player1, string* player2){
    cout << "Enter the name of player # 1\n";
    getline(cin , *player1);
    cout << "Enter the name of player # 2\n";
    getline(cin , *player2);
}
int directWin(int player , string Player , bool* p , bool* isLost , bool* isWon){
    player = dices(Player);
    switch(player){
        case 7 :
        case 11:
        cout << Player << " wins!\n";
        *isWon = true;
        *p = true;
        break;
        case 2 :
        case 3 :
        case 12:
        cout << Player << " lost!\n";
        *isLost = true;
        *p = true;
        break;
        default:
        *p = false;
        *isLost = false;
        *isWon = false;
        break;
    }
    return player;
}
int pointOut(int player , string Player , bool* p , bool* isLost , bool* isWon){
    cout << "------------------------------\n";
    cout << Player << "'s Turn\n";
    player = directWin( player , Player , p , isLost , isWon);
    if (*p == false && !*isLost && !*isWon ){
        cout << "Point is set to "<< player<<endl;
        while (player != 7){
            int point = dices(Player);
            if (point == 7){
                cout << "Badluck! "<< Player << " is sevened-out\n";
                break;
            } 
            if (player == point) {
                cout << Player << " wins!\n";
                break;
            }
            else {
                cout << "Press enter to roll-out again\n";
                cin.ignore(numeric_limits<streamsize>::max(), '\n');
            }
        }
    }
    return player;
}
   
    
int main (){
    srand(time(NULL));
    int player1 , player2;
    string Player1 , Player2;
    bool p1 = false , p2 = false , isLost1, isLost2 , isWon1 , isWon2;
    playerNames(&Player1 , &Player2);
    player1 = pointOut(player1 , Player1, &p1 , &isLost1 ,  &isWon1);
    player2 = pointOut(player2 , Player2 , &p2 , &isLost2 , &isWon2);
    while(player1)
    return 0;

}
